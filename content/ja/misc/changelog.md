# 更新履歴

## [2025.11.5] - 2025-11-28

### 新機能
- **リモートゲームセーブ**: シングルプレイヤーゲームのセーブデータのクラウド同期を実装しました。認証済みプレイヤーは、保存したゲームをすべてのデバイス間で同期できるようになり、進行状況が失われることはありません。システムは自動的にセーブデータをクラウドにアップロードし、サインインしている任意のデバイスで復元できます。
- **レスポンシブ画像サポート**: すべてのコンポーネントにsrcset属性を使用したレスポンシブ画像サポートを追加し、デバイスの機能に応じて適切なサイズの画像を自動的に提供します。これにより、モバイルデバイスでの帯域幅の使用を大幅に削減しながら、大きな画面では高品質の視覚効果を維持します。

### UIと体験の改善
- **メニュースタイリングの更新**: メニューコンポーネントのパディング、アニメーション、タブの色を調整し、視覚的一貫性とよりスムーズな操作を実現しました。
- **設定パネルの改善**: 設定パネルの下部パディングを増やし、スペーシングと可読性を向上させました。

### バグ修正
- **プロフィール初期化**: ゲーム開始前にゲーム設定やカードデザインの設定が正しく読み込まれない可能性がある問題を修正しました。プロフィールが読み込まれる際に設定とデザインの選択が適切に初期化され、最初から設定が適用されるようになりました。
- **月札役の更新**: ラウンド数が変更された際に月札役のカードが正しく更新されない可能性がある問題を修正しました。役リストが現在のゲーム設定を正しく反映するようになりました。

### パフォーマンスと技術的改善
- **フォントのプリロード**: セカンダリフォントのプリロードを追加し、テキストレンダリングのパフォーマンスを向上させ、レイアウトシフトを削減しました。
- **マルチプレイヤーの基盤**: 共有ゲーム状態の同期のためのインフラストラクチャを使用して、将来のマルチプレイヤー機能の基盤を整えました。

## [2025.11.4] - 2025-11-20

### 新機能
- **フランス語サポート**: ゲームコンテンツ、メニュー、ユーザーインターフェース要素、ローカライズされたカードデザイン情報の完全な翻訳を含む、包括的なフランス語（fr）サポートを追加しました。フランス語を話すプレイヤーは、母国語で完全なゲーム体験を楽しめるようになりました。
- **トースト通知の強化**: 通知システムをSonnerトースト通知に置き換え、ゲーム全体でより洗練された一貫した通知体験を提供します。

### UIと体験の改善
- **ランキングページの明確化**: 最高勝率ランキングに最小ゲーム数の要件注記を追加し、プレイヤーがリーダーボードに表示される基準を理解できるようにしました。

### バグ修正
- **ゲストプロフィールの保護**: リモートプロフィール取得操作が失敗した際にゲストプロフィールが上書きされる問題を修正しました。ゲストプロフィールは認証プロセス中に適切に保護されるようになりました。

### パフォーマンスと技術的改善
- **コンポーネントライブラリの更新**: shadcn-nuxtをバージョン2.3.2に更新し、関連するコンポーネントの問題を解決して、安定性と互換性を向上させました。

## [2025.11.3] - 2025-11-11

### 新機能
- **アニメーション付きこいこいシャウト**: プレイヤーが「こいこい」をコールした際に表示されるアニメーション付きシャウトコンポーネントを追加しました。プレイヤーのアバターとアニメーション付きコインアイコンを特徴とし、より魅力的な視覚体験を提供します。

### バグ修正
- **サインインリンク**: サインインリンクに関する問題を修正しました。
- **ドロー後のラウンド**: カードドロー後のラウンド進行に関する問題を修正しました。
- **カードシートの表示順序**: カードシートのカード表示順序を修正し、トリガーアイコンの表示を修正しました。

## [2025.11.2] - 2025-11-09

### 新機能
- **スマートオーディオ一時停止**: 別のタブに切り替えたり、ウィンドウを最小化したりすると、バックグラウンドミュージックが自動的に一時停止し、ゲームに戻ると再開されます。これにより、システムリソースを節約し、マルチタスク時の体験が向上します。
- **強化されたカードコレクションUI**: カードコレクションにグリッド表示とカードシートプレビュー機能が追加され、コレクションの閲覧と確認がより簡単になりました。
- **改善されたランキングページ**: ランキングページに新しいチャートが追加され、現在のプレイヤーの位置が表示されるようになり、自分の順位をより良く把握できるようになりました。
- **改善された効果音のタイミング**: 効果音がより良いタイミングで再生されるようになり、より反応性の高いオーディオ体験を提供します。

### UI・体験の改善
- **ランキングページの更新**: ランキングページの色とレイアウトを更新し、視覚的な一貫性と可読性を向上させました。
- **統計チャートの改善**: ドーナツチャートの背景色を修正し、チャートセグメントのパディングを改善して、視覚的な明確さを向上させました。
- **オプションパネルのスタイリング**: ゲームオプションパネルのタブナビゲーションのスタイリングを強化し、より洗練されたインターフェースを実現しました。
- **カードアニメーションの改良**: カードアニメーションのスタイルをグローバルユーティリティクラスに抽出し、一貫性と保守性を向上させました。

### バグ修正
- **モーダルオーバーレイの修正**: モーダルオーバーレイの不透明度スタイル構文を修正し、適切なレンダリングを実現しました。
- **型安全性とアーティストリンク**: 型安全性を改善し、アーティストリンクの表示の問題を修正しました。

### パフォーマンス・技術的改善
- **アイコンセットの統合**: アイコンセットを統合し、設定を更新して、より良い組織化とオフラインサポートを実現しました。
- **フレームワークのアップグレード**: Nuxt v4とTailwind CSS v4にアップグレードし、パフォーマンスの向上、開発者体験の改善、最新機能へのアクセスを実現しました。

## [2025.11.1] - 2025-11-03

### 新機能
- **プログレッシブウェブアプリ（PWA）対応**: New Hanafudaをデバイスにスタンドアロンアプリとしてインストールできるようになりました！オフラインプレイ機能とインテリジェントなアセットキャッシングによるパフォーマンス向上により、ネイティブアプリのような体験を楽しめます。
- **強化された統計モーダル**: 統計モーダルに追跡データの日付範囲が表示され、ドーナツチャートの中央にこいこい成功率が表示されるようになり、時間経過に伴うパフォーマンス指標のコンテキストが向上しました。
- **オフラインアイコン対応**: すべてのアイコンセットが統合され、オフラインアクセス用に設定されたため、インターネット接続がなくてもシームレスな体験が保証されます。

### UI・体験の改善
- **モバイル最適化**: モバイルデバイスでは、画面の最適な使用のため、小サイズカードがデフォルトになりました。
- **スマートメディアプリロード**: ゲーム開始時にオーディオファイルとカード画像がインテリジェントにプリロードされ、読み込み時間が短縮され、よりスムーズなゲームプレイが保証されます。
- **カラーモード同期**: スタンドアロンPWAモードで実行する際、ダークモードの設定が適切に同期されるようになりました。

### パフォーマンス・技術的改善
- **モダンサービスワーカー**: Workboxを活用したサービスワーカーをインテリジェントなキャッシング戦略とともに実装し、読み込み時間の短縮と信頼性の高いオフライン機能を実現しました。
- **最適化されたアセット読み込み**: オフラインモードの安定性と予測可能な読み込み動作を改善するため、コンポーネントからレイジーローディングを削除しました。

### UI・ビジュアルの改善
- **洗練されたカラースキーム**: 統計パネルのカラーパレットを更新し、視覚的な一貫性と可読性を向上させました。

## [2025.11.0] - 2025-11-02

### 新機能
- **強化された統計パネル**: インタラクティブなビジュアル分解を備えたプレイヤー統計を再設計しました。すべての統計カードには、データ分布を一目で示すミニドーナツチャートが表示され、任意のカードをクリックすると詳細な内訳を含むモーダルが開きます。総合的な対戦結果と個別のラウンドパフォーマンスを区別するために、「ラウンドプレイ数」と並んで「対戦数」のトラッキングを追加しました。統計カテゴリには、カードタイプ別の獲得カード数、完成した役、こいこいコールの結果、ラウンド結果、対戦結果が含まれます。

### バグ修正
- **ゲーム記録**: ゲーム完了時に勝利と敗北の両方が記録されてしまい、統計が不正確になる問題を修正しました。ゲーム完了時に正しい結果で一度だけ記録が更新されるようになりました。
- **セーブゲームのセキュリティ**: カードデータを暗号化することで、プレーンテキストの可視性と保存されたゲーム状態の潜在的な改ざんを防ぐため、セーブゲーム機能を強化しました。

## [2025.10.1] - 2025-10-30

### プロジェクトの更新
- **バージョン管理スキーム**: セマンティックバージョニング（SemVer）からカレンダーバージョニング（CalVer）に移行し、YYYY.MM.MICRO形式を使用するようになりました。バージョン番号は、リリース日とその月内のシーケンスを反映するようになりました。

### 新機能
- **ローカルファーストプロフィールシステム**: プレイヤープロフィールのローカルファースト基盤アーキテクチャを実装しました。ゲームは主にローカルデータで動作するようになり、強化されたプロフィール同期インフラストラクチャ、ソーストラッキングによる改善された競合解決、ゲストから認証済みアカウントへのより堅牢な移行機能を備えています。この基盤により、データの整合性が向上し、将来のオフラインファースト機能への道が開かれます。
- **プレイヤー統計トラッキング**: プレイヤーのパフォーマンス指標を記録・表示する包括的な統計トラッキングシステムを追加しました。勝利数、敗北数、勝率、お気に入りの役の組み合わせ、ゲーム履歴を時間の経過とともに追跡できます。統計は自動的に保存され、認証済みプレイヤーのデバイス間で同期されます。

## [2.6.1] - 2025-09-25

### バグ修正
- **ゲーム状態の管理**: ゲームを降参して新しいゲームを開始した際に、ゲームストアが不整合な状態のままになり、ログアウトボタンなどのUI要素が無効になったり、ゲーム状態が破損したりする問題を修正しました。新しいゲームを開始する際に、すべてのゲームストアが適切に初期状態にリセットされるようになりました。

## [2.6.0] - 2025-09-21

### 新機能
- **画面上のイベントログ**: 全てのゲームアクションをリアルタイムで追跡する、サイズ変更可能で折りたたみ可能なイベントログパネルを追加しました。プレイヤーは自分の手、カードドロー、マッチ、役の完成をタイムスタンプと視覚的なカードインジケータで監視できるようになりました。パネルは位置変更、折りたたみ、完全に隠すことが可能で、プレイヤーの好みに基づいて設定が自動的にセッション間で保存されます。

## [2.5.1] - 2025-09-03

### バグ修正と改善
- **ゲーム状態の管理**: 相手のターン中にゲームを保存できる問題を修正し、保存機能がプレイヤーのターン中のみ利用可能であることを確実にしました。
- **自動プレイの再開**: ページの再読み込み後にゲームを再開する際、自動対戦相手機能が正しく開始されるように修正しました。
- **ゲームの永続化**: ゲーム保存の永続化動作に関するドキュメントを明確化しました。

### UIとビジュアルの改善  
- **モーダルの強化**: ユーザーエクスペリエンス向上のため、モーダル背景とボタンのビジュアルを強化しました。

## [2.5.0] - 2025-08-31

### 新機能
- **ゲームの保存と再開**: プレイヤーがゲームの進行状況を保存し、後で再開できる完全なゲーム状態永続化システム。再開時に自動的にセーブをクリアする単一セーブスロットシステムにより、セーブデータの不正操作防止機能も備えています。
- **ロシア語対応**: 新しい言語オプションとしてロシア語 (ru) を追加し、すべてのゲームコンテンツ、メニュー、ユーザーインターフェース要素の包括的な翻訳を提供します。

### パフォーマンスと技術的改善
- **静的アセットの最適化**: 専用のストレージバケットから静的アセットを配信することで、読み込みパフォーマンスを向上させ、読み込み時間と帯域幅の使用量を削減しました。

### UIとエクスペリエンスの改善
- **スタート画面の強化**: 静的な「今すぐプレイ」画像を、国際化サポートとアクセシビリティを向上させるためにスタイル付きの翻訳可能なボタンに置き換えました。
- **レスポンシブなカードサイズ調整**: カードサイズ設定はグローバルに適用されますが、UIコンポーネントの特定のレイアウトは維持され、異なる画面サイズで一貫したユーザーエクスペリエンスを保証します。

## [2.4.2] - 2025-08-27

### 分析とプライバシー
- **PostHogの統合**: Firebase AnalyticsをPostHogに置き換え、プライバシーを重視したより良い分析とユーザーインサイトを実現しました。

### オーディオシステムの強化
- **メディアコントロールの統合**: バックグラウンドミュージックがデバイスのメディアコントロール（iOS/Android/デスクトップ）にトラックメタデータを表示するようになりました。
- **オーディオパフォーマンス**: ブラウザの互換性を向上させるためのフォールバックオーディオフォーマットと、追加のカード効果音を追加しました。

## [2.4.1] - 2025-08-20

### バグ修正
- **カードデザイン**: 選択したカードデザインがセッションを跨いで正しく保持されるようになりました。
- **ローカライゼーション**: 不足していたトーストメッセージの翻訳を追加し、ロケールに基づいたルーティングを修正しました。

## [2.4.0] - 2025-08-20

### 国際化とコンテンツ
- **ポーランド語サポート**: 新しい言語オプションとしてポーランド語（pl）を追加しました。
- **コンテンツページのローカライズ**: 静的コンテンツページの翻訳を実装しました。
- **ページメタデータの翻訳**: ページのメタデータにi18nサポートを追加しました。
- **フッターの翻訳**: ページフッターに不足していた翻訳を追加しました。
- **コンテンツ構造**: 翻訳をより良くサポートするために、コンテンツディレクトリの構造を更新しました。

### UIと体験
- **ページトランジション**: よりネイティブな感覚を提供するため、グローバルなページトランジションとスムーズスクロールを削除しました。

## [2.3.3] - 2025-08-16

### オーディオシステムの改善

- **オーディオシステムの改良**: BGM（バックグラウンドミュージック）とSFX（効果音）の音量と無効化を個別に制御できるようになりました。
- **リソースの最適化**: オーディオトラックのミュート機能を「無効化」オプションに置き換え、オフ時にバックグラウンドで再生されないようにしました。
- **オーディオ再開の改善**: 無効状態から再度有効にした後、BGMが再開しない問題を修正しました。

## [2.3.2] - 2025-07-27

### 新機能
- **新しいカードデザイン**: DiscordユーザーVulumeによる「Shou Suisaiga」カードデザインを追加しました。

## [2.3.1] - 2025-07-23

### バグ修正
- **翻訳**: カードタイプに不足していた翻訳を追加しました。
- **UI**: 結果モーダルメッセージのスペーシングを改善しました。
- **UI**: スタート画面のボタンを更新し、混雑を最小限に抑えました。
- **リーダーボード**: モバイルデバイスでのテーブルスクロールを修正しました。

## [2.3.0] - 2025-07-22

### 新機能
- **プレイヤーランキング**: プレイヤーランキングを表示する新しいページが追加されました。

### バグ修正
- **帰属表示**: 帰属表示ページで貢献者の名前にあったタイプミスを修正しました。

## [2.2.0] - 2025-07-20

### 新機能
- **国際化**: 英語と日本語の完全なローカライズをサポートし、シームレスな言語切り替えが可能です。
- **月札の強化**: カードが元のデザイナーが意図した芸術的な配置で表示されるようになりました。
- **翻訳システム**: 表示オプション、役の説明、コレクションコンポーネントの包括的な翻訳をカバーしました。

### UIと体験の改善
- **モバイル対応**: モーダルの配置、ステータスバーの拡大縮小、手札のオーバーフロー処理を改善し、モバイル体験を向上させました。
- **インターフェースの洗練**: フルスクリーンアイコンを更新し、モーダルのレイアウトを洗練し、コレクションコンポーネントの表示を改善しました。

### バグ修正
- **アバターシステム**: アバターの選択とランダム割り当ての問題を修正しました。
- **ゲームコントロール**: ゲーム終了状態でのボタンの表示に関する問題を解決しました。
- **レイアウト修正**: さまざまな画面サイズでの位置決めとオーバーフローに関するさまざまな問題を修正しました。

### パフォーマンスと技術
- **画像最適化**: ロードパフォーマンス向上のため、WebP変換を継続しました。
- **コード品質**: アバターの状態管理をリファクタリングし、依存関係を更新しました。

## [2.1.1] - 2025-07-19

### 改善点
- **パフォーマンス**: カードと背景画像をWebPに変換し、アセットを静的バケットに移動することで、ロードを高速化し最適化しました。
- **レスポンシブUI**: ステータスバーが異なる画面サイズでより効果的に拡大縮小するようになりました。
- **アバター管理**: アバターの状態管理をリファクタリングし、一貫性を向上させました。

### バグ修正
- **アバター選択**: アバターオプションの全範囲を復元しました。

### その他
- **ツール**: アセットをアップロードするためのユーティリティスクリプトを追加しました。

## [2.1.0] - 2025-07-17

### UIとレイアウトの改善
- **レイアウトの簡素化**: メインゲームのレイアウトが合理化され、よりクリーンで直感的な表示になりました。
- **スクロールバーの改善**: スクロールバーのスタイルが更新され、一貫性が向上し、よりモダンな外観になりました。
- **パディングの調整**: さまざまなコンポーネントでパディングが微調整され、視覚的なバランスが向上しました。
- **コレクションモーダルの拡大**: カードコレクションを表示するためのモーダルが広くなり、カードが見やすくなりました。
- **アーティストクレジット**: カードデザインのアーティストを適切にクレジットするための専用コンポーネントが追加されました。

### ゲームプレイの改善
- **役リストへのアクセス**: プレイヤーは「こいこい」コール決定中に役リストを開いて、可能な役を確認できるようになりました。

### バグ修正
- **「ボードを表示」ボタン**: ゲーム内の「ボードを表示」ボタンが正しく機能しない問題を修正しました。

## [2.0.0] - 2025-07-10

### お知らせとソーシャル
- **新機能のお知らせシステム**（表示回数/いいねのトラッキング機能付き）
- ローカルストレージを利用したお知らせの**いいね/いいね解除機能**

### オーディオ体験
- ゲームプレイの状態に反応する**適応型BGM**
- メニューとゲームプレイの音楽間の**クロスフェードオーディオトランジション**

### ビジュアルデザインとカスタマイズ
- **Otwarte Kartyカードデザイン** - 初心者にも優しく美しい
- 新規 → アンロック済み → ロック済みの構造による**より良いデザイン整理**
- さまざまな画面や好みに合わせて**調整可能なカードサイズ**
- 改善された背景とUIの一貫性による**強化されたビジュアルデザイン**
- 認識しやすさのためのカードデザインにおける**視覚的階層**

### ゲームプレイの改善
- 拡大鏡ボタンとダブルクリック対応による**コレクション表示**
- 自動表示機能付きの**DeckShowcaseコンポーネント**
- ゲームプレイ中の**カードの視認性と目立ちやすさ**
- 拡張された表示オプションによる**コレクション表示体験**

### インターフェースとアクセシビリティ
- 使いやすさとアクセシビリティを向上させるための**メニューとモーダルのレイアウト**
- すべてのデバイスタイプでの**アクセシビリティ**

---